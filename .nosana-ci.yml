global:
  image: nosana/solana

  trigger:
    branch:
      - "*"

jobs:
    - name: build
      commands:
        - npm ci
        - npm run build:program-rust
      artifacts:
        - node_modules
        - dist
  
    - name: test
      commands:
        - npm run test:program-rust
      resources:
        - name: node_modules
        - name: dist
